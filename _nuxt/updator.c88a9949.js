import{c as t,e as a}from"./store.b15c8b6a.js";const s="#ECEFF4",o="#3B4252",c="#434C5E",r="#88C0D0",i="#A3BE8C",u="#5E81AC",l="#EBCB8B",d="#BF616A",g={foreground:s,background:o,panel:c,accent:r,success:i,info:u,warning:l,error:d},b="#958f8b",f="#e6e5e2",w="#eeece8",h="#ea9a52",m="#86b300",p="#31b1ce",k="#ecb637",$="#ec4137",S={foreground:b,background:f,panel:w,accent:h,success:m,info:p,warning:k,error:$},C={NordDark:g},E={Apricot:S},v=Object.assign({},C,E);function j(e){return v[e]}async function A(){let e;try{e=await(await fetch("https://raw.githubusercontent.com/Seo-4d696b75/station_database/main/out/main/data.json")).json()}catch(n){return console.error("Update failed",n),!1}return await t.lines.clear(),await t.lines.bulkPut(e.lines),await t.stations.clear(),await t.stations.bulkPut(e.stations),await t.treeSegments.clear(),await t.treeSegments.bulkPut(e.tree_segments),a.set("currentVersion",e.version),console.log(`Station data updated to v${e.version}`),!0}async function y(){let e;try{e=await(await fetch("https://raw.githubusercontent.com/Seo-4d696b75/station_database/main/latest_info.json")).json()}catch{return new Error("Failed to check update")}const n=e.version;return a.set("lastCheck",new Date().toISOString()),{updateAvailable:n!==a.get("currentVersion"),version:n,url:e.url,size:e.size}}export{y as c,C as d,A as e,j as g,E as l};
