import{c as e}from"./database.58d451c2.js";import{c as a}from"./store.9a0a85b3.js";const s="#ECEFF4",o="#3B4252",r="#434C5E",c="#88C0D0",i="#A3BE8C",u="#5E81AC",l="#EBCB8B",d="#BF616A",g={foreground:s,background:o,panel:r,accent:c,success:i,info:u,warning:l,error:d},b="#958f8b",f="#e6e5e2",w="#eeece8",h="#ea9a52",m="#86b300",p="#31b1ce",k="#ecb637",$="#ec4137",S={foreground:b,background:f,panel:w,accent:h,success:m,info:p,warning:k,error:$},C={NordDark:g},E={Apricot:S},v=Object.assign({},C,E);function A(t){return v[t]}async function y(){let t;try{t=await(await fetch("https://raw.githubusercontent.com/Seo-4d696b75/station_database/main/out/main/data.json")).json()}catch(n){return console.error("Update failed",n),!1}return await e.lines.clear(),await e.lines.bulkPut(t.lines),await e.stations.clear(),await e.stations.bulkPut(t.stations),await e.treeSegments.clear(),await e.treeSegments.bulkPut(t.tree_segments),a.set("currentVersion",t.version),console.log(`Station data updated to v${t.version}`),!0}async function F(){let t;try{t=await(await fetch("https://raw.githubusercontent.com/Seo-4d696b75/station_database/main/latest_info.json")).json()}catch{return new Error("Failed to check update")}const n=t.version;return a.set("lastCheck",new Date().toISOString()),{updateAvailable:n!==a.get("currentVersion"),version:n,url:t.url,size:t.size}}export{F as c,C as d,y as e,A as g,E as l};
