import{_ as T}from"./MeButton.ba8c34f6.js";import{l as D,d as U,e as R}from"./updator.f89f2c3f.js";import{f as M,k as N,r as C,g as v,l as f,o as b,c as y,a as s,t as $,m as j,v as q,h as n,q as p,n as u,F as S,i as A,b as m,s as F,_ as B,x as O,y as z,w as V,d as h}from"./entry.58a82d46.js";import{b as E,s as d}from"./store.9a0a85b3.js";import"./database.58d451c2.js";const I={class:"_label"},L=["disabled","readonly"],P=M({__name:"MeSelect",props:{modelValue:{},readonly:{type:Boolean},disabled:{type:Boolean},items:{},label:{}},emits:["update:modelValue"],setup(k,{emit:c}){const l=k,{modelValue:a}=N(l),t=C(a.value);v(t,e=>{c("update:modelValue",e)}),v(a,e=>{t.value=e});const r=f(()=>{if(Array.isArray(l.items)){const e={};for(const o of l.items)e[o]=o;return e}else return l.items});return(e,o)=>(b(),y("div",null,[s("div",I,$(e.label),1),s("div",{class:u(e.$style.root)},[j(s("select",{"onUpdate:modelValue":o[0]||(o[0]=_=>p(t)?t.value=_:null),disabled:e.disabled,readonly:"readonly"in e?e.readonly:n(F),class:u(e.$style.select)},[(b(!0),y(S,null,A(n(r),(_,i)=>(b(),y("option",{key:i},$(_),1))),128))],10,L),[[q,n(t)]]),m(n(E),{class:u(e.$style.arrow)},null,8,["class"])],2)]))}}),x="_root_1fnem_1",G="_select_1fnem_6",H="_arrow_1fnem_27",J={root:x,select:G,arrow:H},K={$style:J},g=B(P,[["__cssModules",K]]),Q={class:"_label"},W=["onClick"],X=M({__name:"MeSwitch",props:{modelValue:{type:Boolean},label:{}},emits:["update:modelValue","click"],setup(k,{emit:c}){const l=k,{modelValue:a}=N(l),t=C(a.value);v(a,e=>{t.value=e});function r(){t.value=!t.value,c("update:modelValue",t.value),c("click")}return(e,o)=>(b(),y(S,null,[s("div",Q,$(e.label),1),s("div",{class:u(e.$style.root)},[s("input",{type:"checkbox",class:u(e.$style.input)},null,2),s("span",{class:u([e.$style.button,{[e.$style.checked]:n(t)}]),onClick:O(r,["prevent"])},[s("div",{class:u(e.$style.knob)},null,2)],10,W),s("span",{class:u(e.$style.text),onClick:r},[z(e.$slots,"default")],2)],2)],64))}}),Y="_root_10ff8_1",Z="_input_10ff8_7",ee="_button_10ff8_15",te="_checked_10ff8_31",oe="_knob_10ff8_35",se="_text_10ff8_51",le={root:Y,input:Z,button:ee,checked:te,knob:oe,text:se},ne={$style:le},w=B(X,[["__cssModules",ne]]),ae={class:"_gap"},ie=s("span",{class:"_section_title"},"通知",-1),ce=s("span",{class:"_section_title"},"テーマ",-1),ue=s("span",{class:"_section_title"},"駅データ",-1),pe=M({__name:"settings",setup(k){const c=f(d.toModel("useDarkMode")),l=f(d.toModel("lightTheme")),a=f(d.toModel("darkTheme")),t=f(d.toModel("enableNotification"));function r(){if(Notification.permission==="denied"){alert("通知を許可してください"),d.set("enableNotification",!1);return}if(Notification.permission==="default"){Notification.requestPermission().then(e=>{e==="granted"&&d.set("enableNotification",!0)});return}d.set("enableNotification",!t.value)}return(e,o)=>{const _=T;return b(),y("div",ae,[ie,m(w,{modelValue:n(t),"onUpdate:modelValue":o[0]||(o[0]=i=>p(t)?t.value=i:null),onClick:r},{default:V(()=>[h("最寄り駅が変わったら通知する")]),_:1},8,["modelValue"]),ce,m(w,{modelValue:n(c),"onUpdate:modelValue":o[1]||(o[1]=i=>p(c)?c.value=i:null)},{default:V(()=>[h("ダークモードにする")]),_:1},8,["modelValue"]),m(g,{items:Object.keys(D),label:"ライトテーマ",modelValue:n(l),"onUpdate:modelValue":o[2]||(o[2]=i=>p(l)?l.value=i:null)},null,8,["items","modelValue"]),m(g,{items:Object.keys(U),label:"ダークテーマ",modelValue:n(a),"onUpdate:modelValue":o[3]||(o[3]=i=>p(a)?a.value=i:null)},null,8,["items","modelValue"]),ue,m(_,{onClick:n(R)},{default:V(()=>[h("最新の駅データにする")]),_:1},8,["onClick"])])}}});export{pe as default};
